
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="authentication">Authentication</a>
          </li>
          <li>
            <a href="#application-api" class="toc-h1 toc-link" data-title="application-api">Application API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#register-application" class="toc-h2 toc-link" data-title="register-application">Register application</a>
                  </li>
                  <li>
                    <a href="#post-transaction" class="toc-h2 toc-link" data-title="post-transaction">POST transaction</a>
                  </li>
                  <li>
                    <a href="#validate-code" class="toc-h2 toc-link" data-title="validate-code">Validate Code</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="errors">Errors</a>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://devs.paymentloyalty.com/support'>Payment Loyalty Support</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>The Payment Loyalty Application API is to be used by applications in order to get their base configuration. This configuration will have all details required for the application to render and function correctly.</p>

<p>The application should then call the API for every transaction. This data will be used for analytical purposes.</p>

<p>For every action taken by a customer the result should be sent to this API. The application must then call this API to validate codes presented by customers are valid.</p>
<h1 id='authentication'>Authentication</h1>
<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="err">#</span> <span class="nx">With</span> <span class="nx">JS</span> <span class="nx">simply</span> <span class="nx">set</span> <span class="nx">the</span> <span class="nx">token</span> <span class="nx">within</span> <span class="nx">the</span> <span class="nx">header</span> <span class="nx">param</span> <span class="nx">as</span> <span class="nx">part</span> <span class="nx">of</span> <span class="nx">POST</span>


<span class="kd">var</span> <span class="nx">xhr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">responseType</span> <span class="o">=</span> <span class="s1">'json'</span><span class="p">;</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s2">"POST"</span><span class="p">,</span> <span class="s2">"/api"</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">"Accept"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">"Authorization"</span><span class="p">,</span> <span class="s2">"Basic "</span> <span class="o">+</span> <span class="nx">token</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'data returned:'</span><span class="p">,</span> <span class="nx">xhr</span><span class="p">.</span><span class="nx">response</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<p>PL API uses API keys to allow access to the API.</p>

<p>PL API expects for the API key to be included in all API requests to the server in a header that looks like the following:</p>

<p><code>Authorization: {token}</code></p>
<h1 id='application-api'>Application API</h1><h2 id='register-application'>Register application</h2>
<blockquote>
<p>To register, use this code:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">mid</span> <span class="o">=</span> <span class="s1">'93787220'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">tid</span> <span class="o">=</span> <span class="s1">'0001'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">gid</span> <span class="o">=</span> <span class="s1">'3920'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">locale</span> <span class="o">=</span> <span class="s1">'GB'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">datetime</span> <span class="o">=</span> <span class="s1">'2018-01-31T12:34:00.000Z'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">appid</span> <span class="o">=</span> <span class="s1">'wl_vf_card'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">version</span> <span class="o">=</span> <span class="s1">'0.01'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">xhr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">responseType</span> <span class="o">=</span> <span class="s1">'json'</span><span class="p">;</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s2">"POST"</span><span class="p">,</span> <span class="s2">"/api"</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">"Accept"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">"Authorization"</span><span class="p">,</span> <span class="s2">"Basic "</span> <span class="o">+</span> <span class="nx">token</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'data returned:'</span><span class="p">,</span> <span class="nx">xhr</span><span class="p">.</span><span class="nx">response</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">query</span> <span class="o">=</span> <span class="s2">`mutation RegisterApp($input: ApplicationInput) {
  RegisterApp(input: $input) {
    id,
    loaded,
    configURI
  }
}`</span><span class="p">;</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
  <span class="na">query</span><span class="p">:</span> <span class="nx">query</span><span class="p">,</span>
  <span class="na">variables</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">input</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">mid</span><span class="p">:</span> <span class="nx">mid</span><span class="p">,</span>
      <span class="na">tid</span><span class="p">:</span> <span class="nx">tid</span><span class="p">,</span>
      <span class="na">gid</span><span class="p">:</span> <span class="nx">gid</span><span class="p">,</span>
      <span class="na">locale</span><span class="p">:</span> <span class="nx">locale</span><span class="p">,</span>
      <span class="na">datetime</span><span class="p">:</span> <span class="nx">datetime</span><span class="p">,</span>
      <span class="na">appId</span><span class="p">:</span> <span class="nx">appid</span><span class="p">,</span>
      <span class="na">version</span><span class="p">:</span> <span class="nx">version</span><span class="p">,</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}));</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="s2">"RegisterApp"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
         </span><span class="s2">"loaded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
         </span><span class="s2">"configURI"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://plapi.co/s9Kl"</span><span class="w">
       </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint registers the application.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST http://api.paymentloyalty.co/api</code></p>
<h2 id='post-transaction'>POST transaction</h2>
<blockquote>
<p>For each transaction, perform the following</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">mid</span> <span class="o">=</span> <span class="s1">'93787220'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">tid</span> <span class="o">=</span> <span class="s1">'0001'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">datetime</span> <span class="o">=</span> <span class="s1">'2018-01-31T12:34:00.000Z'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">appid</span> <span class="o">=</span> <span class="s1">'wl_vf_card'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">version</span> <span class="o">=</span> <span class="s1">'0.01'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">currency</span> <span class="o">=</span> <span class="s1">'GBP'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">total</span> <span class="o">=</span> <span class="s1">'10.89'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">par</span> <span class="o">=</span> <span class="s1">'0.01'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">masked_pan</span> <span class="o">=</span> <span class="s1">'************3737'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">expiry</span> <span class="o">=</span> <span class="s1">'1020'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">authorisation_code</span> <span class="o">=</span> <span class="s1">'821908'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">token</span> <span class="o">=</span> <span class="s1">'DERWER0328YR0U'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">transaction_id</span> <span class="o">=</span> <span class="s1">'9482374'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">xhr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">responseType</span> <span class="o">=</span> <span class="s1">'json'</span><span class="p">;</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s2">"POST"</span><span class="p">,</span> <span class="s2">"/api"</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">"Accept"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">"Authorization"</span><span class="p">,</span> <span class="s2">"Basic "</span> <span class="o">+</span> <span class="nx">token</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'data returned:'</span><span class="p">,</span> <span class="nx">xhr</span><span class="p">.</span><span class="nx">response</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">query</span> <span class="o">=</span> <span class="s2">`mutation CreateTransaction($input: TransactionInput) {
  CreateTransaction(input: $input) {
    id,
    configURI
  }
}`</span><span class="p">;</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
  <span class="na">query</span><span class="p">:</span> <span class="nx">query</span><span class="p">,</span>
  <span class="na">variables</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">input</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">mid</span><span class="p">:</span> <span class="nx">mid</span><span class="p">,</span>
      <span class="na">tid</span><span class="p">:</span> <span class="nx">tid</span><span class="p">,</span>
      <span class="na">datetime</span><span class="p">:</span> <span class="nx">datetime</span><span class="p">,</span>
      <span class="na">appId</span><span class="p">:</span> <span class="nx">appid</span><span class="p">,</span>
      <span class="na">currency</span><span class="p">:</span> <span class="nx">currency</span><span class="p">,</span>
      <span class="na">total</span><span class="p">:</span> <span class="nx">total</span><span class="p">,</span>
      <span class="na">par</span><span class="p">:</span> <span class="nx">par</span><span class="p">,</span>
      <span class="na">masked_pan</span><span class="p">:</span> <span class="nx">masked_pan</span><span class="p">,</span>
      <span class="na">expiry</span><span class="p">:</span> <span class="nx">expiry</span><span class="p">,</span>
      <span class="na">authorisation_code</span><span class="p">:</span> <span class="nx">authorisation_code</span><span class="p">,</span>
      <span class="na">token</span><span class="p">:</span> <span class="nx">token</span><span class="p">,</span>
      <span class="na">transaction_id</span><span class="p">:</span> <span class="nx">transaction_id</span><span class="p">,</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}));</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c3ee57ab-aca7-4df0-9868-7048b2f5706d"</span><span class="w">
  </span><span class="s2">"configURI"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://plapi.co/s9Kl"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint adds the transactions to the datawarehouse for processing.</p>

<p>The configURI parameter is optional, if the URL has changed since the application was registered this configuration should be downloaded and the application updated.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST http://api.paymentloyalty.co/api</code></p>
<h2 id='validate-code'>Validate Code</h2><pre class="highlight javascript tab-javascript"><code>
<span class="kd">var</span> <span class="nx">mid</span> <span class="o">=</span> <span class="s1">'93787220'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">tid</span> <span class="o">=</span> <span class="s1">'0001'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">datetime</span> <span class="o">=</span> <span class="s1">'2018-01-31T12:34:00.000Z'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">appid</span> <span class="o">=</span> <span class="s1">'wl_vf_card'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">version</span> <span class="o">=</span> <span class="s1">'0.01'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">code</span> <span class="o">=</span> <span class="s1">'018822'</span>
<span class="kd">var</span> <span class="nx">total</span> <span class="o">=</span> <span class="s1">'50'</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">responseType</span> <span class="o">=</span> <span class="s1">'json'</span><span class="p">;</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s2">"POST"</span><span class="p">,</span> <span class="s2">"/api"</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">"Accept"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">"Authorization"</span><span class="p">,</span> <span class="s2">"Basic "</span> <span class="o">+</span> <span class="nx">token</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'data returned:'</span><span class="p">,</span> <span class="nx">xhr</span><span class="p">.</span><span class="nx">response</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">query</span> <span class="o">=</span> <span class="s2">`query Validate($code: String!) {
  Validate(code: $code)
}`</span><span class="p">;</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
  <span class="na">query</span><span class="p">:</span> <span class="nx">query</span><span class="p">,</span>
  <span class="na">variables</span><span class="p">:</span> <span class="p">{</span> <span class="na">code</span><span class="p">:</span> <span class="nx">code</span> <span class="p">},</span>
<span class="p">}));</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"discount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="w">  
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint validates a code is valid and usable.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST http://api.paymentloyalty.co/api</code></p>
<h1 id='errors'>Errors</h1>
<p>The PL APP API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- Access denied</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- Can&#39;t find what you are looking for</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- Method doesn&#39;t exist</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>420</td>
<td>Code Already Used</td>
</tr>
<tr>
<td>421</td>
<td>Basket Total too low for code</td>
</tr>
<tr>
<td>422</td>
<td>Code out of redemption window</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
